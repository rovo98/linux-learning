# 其他常用命令

#### 挂载命令
##### 查询与自动挂载
- [root@localhost ~]# mount
- 查询系统中已经挂载的设备

- [root@localhost ~]# mount -a 
- 依据配置文件/etc/fstab的内容，自动挂载

##### 挂载命令格式
- [root@localhost ~]# mount [-t 文件系统] [-o 特殊选项] 设备 文件名 挂载点

- 选项 ：
    -t		文件系统 ： 加入文件系统类型来指定挂载的类型，可以ext3、ext4、iso9660等文件系统
    -o		特殊选项 ： 可以指定挂载的额外选项

- 特殊选项表：

|   参数           |                      说明                                                     |
|:--------------:|:-----------------------------------------------------------------------------:|
| atime/noatime   |更新访问时间/不更新访问时间，访问分区文件时，是否更新文件的访问时间，默认为更新 |
|async/sync       |异步/同步，默认为异步                                                           |
| auto/noauto     |自动/手动，mount -a 命令执行时，是否会自耦东安装/etc/fstab文件内挂载，默认为自动|
|default          |定义默认值，相当于rw,suid,dev,exec,auto,nouser,async这七个选项                  |
| exec/noexec     |执行/不执行，设定是否允许在文件系统中执行可执行文件，默认是exec允许             |
| remount         |重新挂载已经挂载的文件系统，一般用于指定修改你特殊权限                          |
| rw/ro           |读写/只读，文件系统挂载时，是否具有读写权限，默认是rw                           |
| suid/nosuid     |具有/不具有SUID权限，设定文件系统是否具有SUID和SGID的权限                       |
| user/nouser     |允许/不允许普通用户挂载，设定文件系统是否允许普通用户挂载，默认不允许，root可以 |
| usrquota        |写入代表文件系统支持用户磁盘配额，默认不支持                                    |
| grquota         |写入代表文件系统组磁盘配额，默认不支持                                          |

--------------------------------------------------------------------------------------------------------------

##### 挂载光盘
- [root@localhost ~]# mkdir /mnt/cdrom/
- 建立挂载点

- [root@localhost ~]# mount -t iso9660 /dev/cdrom /mnt/cdrom/
- 挂载光盘

- [root@localhost ~]# mount /dev/sr0 /mnt/cdrom/

--------------------------------------------------------------------------------------------------------------

##### 卸载命令 : umount
- [root@localhost ~]# umount 设备文件名或挂载点

- 例如 ：[root@localhost ~]# umount /mnt/cdrom/

--------------------------------------------------------------------------------------------------------------

##### 挂载U盘
- [root@localhost ~]# fdisk -l
- 查看U盘设备文件名

- [root@localhost ~]# mount -t vfat /dev/sdb1 /mnt/usb/

- 注意 ：Linux默认是不支持NTFS文件系统的

-------------------------------------------------------------------------------------------------------------

##### 查看登录用户信息
- w 用户名
  - USER : 登录的用户名
  - TTY  : 登录终端
  - FROM : 从哪个IP地址登录
  - LOGIN@ : 登录时间
  - IDLE : 用户闲置时间
  - JCPU : 和该终端连接的所有进程占用的时间。这个时间里并不包含过去的后台作业时间，但却包括当前正在运行的后台作业所占的时间
  - PCPU : 是指当前进程所占用的时间；
  - WHAT : 当前正在运行的命令

- who 用户名
 - 命令输出 :
   - 用户名
   - 登录终端
   - 登录时间(登录来源的IP地址)

##### 查询当前登录和过去登录的用户信息
- last 
- last命令默认是读取/var/log/wtmp文件的数据
- 命令输出
  - 用户名
  - 登录终端
  - 登录IP
  - 登录时间
  - 推出时间(在线时间)

##### 查看所有用户的最后一次登录时间
- lastlog 
- lastlog命令默认是读取/var/log/lastlog文件的内容
- 命令输出
  - 用户名
  - 登录终端
  - 登录IP
  - 最后一次登录时间

-------------------------------------------------------------------------------------------------------------


-
